contract A

constructor(uint z)

iff
   inRange(uint256, z + 1)

creates
   uint x := z + 1


transition x() : uint256

updates
returns x

transition add_x(uint y)

iff
   inRange(uint256, x + y)

updates

  x := x + y


contract B

constructor(uint i)
iff
   inRange(uint256, i + 42)

creates
   uint z := i + 42
   A a := new A(i)

transition incr_z()

iff
   inRange(uint256, z + 1)

updates

  z := z + 1

transition a_add_x(uint y)

iff
   inRange(uint256, a.x + y)

updates

  a.x := a.x + y


// contract C
contract C

constructor(uint u)

iff
   inRange(uint256, u + 1)
   inRange(uint256, u + 42)

creates
   uint y := 0
   A a := new A(u)
   B b := new B(u)


transition remote(uint z) : uint256

iff
   inRange(uint256, b.z + 1)
   inRange(uint256, b.a.x + z)

updates

  b.z := b.z + 1
  b.a.x := b.a.x + z

returns z
