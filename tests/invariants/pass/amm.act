contract Amm

constructor()

creates

    uint256 reserve0 := 1000
    uint256 reserve1 := 1000

invariants

    1000 * 1000 <= reserve0 * reserve1

transition swap0(uint256 amt)

iff in range uint256

    reserve0 + amt
    (reserve0 * reserve1) / (reserve0 + amt) + 1

updates

    reserve0 := reserve0 + amt
    reserve1 := (reserve0 * reserve1) / (reserve0 + amt) + 1

transition swap1(uint256 amt)

iff in range uint256

    reserve1 + amt
    (reserve0 * reserve1) / (reserve1 + amt) + 1

updates

    reserve0 := (reserve0 * reserve1) / (reserve1 + amt) + 1
    reserve1 := reserve1 + amt
